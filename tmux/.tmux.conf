# ==========================
# 1. CONFIGURAZIONE BASE
# ==========================

# Attiva il supporto al mouse (fondamentale per scrollare output lunghi di notebook/log)
set -g mouse on

# Imposta i colori a 256 per una resa estetica migliore
set -g default-terminal "tmux-256color"

# Aumenta la history (le righe che puoi scrollare indietro)
# Vitale per Data Science quando stampi dataframe o log lunghi
set-option -g history-limit 10000

# Rinumera le finestre automaticamente quando ne chiudi una
set -g renumber-windows on

# Cambia il tasto prefisso da C-b a C-a (più ergonomico)
unbind C-a
set -g prefix C-a
bind C-a send-prefix

# posizione dello status bar in alto 
set-option -g status-position top 

# ==========================
# NAVIGAZIONE E PANE (DATA SCIENCE WORKFLOW)
# ==========================

# Divisione finestre più intuitiva
# Usa | per dividere verticalmente (sx/dx) e - per orizzontalmente (su/giù)
# unbind %
#bind | split-window -h
#unbind '"'
#bind - split-window -v

# Navigazione tra i pannelli stile VIM (hjkl)
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Facile reload della configurazione
bind r source-file ~/.tmux.conf \; display "Configurazione ricaricata!"

# ==========================
# 2. LISTA DEI PLUGIN (TPM)
# ==========================
set -g @plugin 'christoomey/vim-tmux-navigator' # integrazione con tmux
set -g @plugin 'tmux-plugins/tmux-cpu'
set -g @plugin 'tmux-plugins/tmux-battery'
set -g @plugin 'tmux-plugins/tpm'

# Configurazione Dracula
# set -g @plugin 'dracula/tmux'
# set -g @dracula-show-powerline true
# \set -g @dracula-show-flags true
# set -g @dracula-show-left-icon session
# Moduli attivi: CPU, RAM e Rete (Ho rimosso il meteo per pulizia)
# set -g @dracula-plugins "cpu-usage ram-usage network"
# Impostazioni extra
# set -g @dracula-show-timezone false
# set -g @dracula-day-month true
# set -g @dracula-military-time true

# configurazione catppuccin
set -g @plugin 'catppuccin/tmux'
# CONFIGURAZIONE CATPPUCCIN
set -g @catppuccin_flavor 'mocha'
set -g @catppuccin_window_status_style "rounded"
set -g @catppuccin_status_background "default"
set -g @catppuccin_status_connect_separator "no"
set -g @catppuccin_status_fill "icon"
set -g @catppuccin_status_left_separator  " "
set -g @catppuccin_status_right_separator ""
# Window Text Formatting (Matches the screenshot)
# Shows the application name (e.g., "nvim") on the dark part
# and the window number (e.g., "1") on the colored pill.
set -g @catppuccin_window_text " #W "
set -g @catppuccin_window_current_text " #W "
# Status Bar Configuration (Right Side)
# Order: Directory -> User -> Host -> Session
set -g status-right-length 100
set -g status-left-length 100
set -g status-left ""
# Pill 1: Directory (Pink Folder)
set -g status-right "#{E:@catppuccin_status_directory}"
# Pill 2: User (Blue User Icon)
set -ag status-right "#{E:@catppuccin_status_user}"
# Pill 3: Host (Purple Server Icon)
set -ag status-right "#{E:@catppuccin_status_host}"
# Pill 4: Session (Green Terminal Icon)
set -ag status-right "#{E:@catppuccin_status_session}"



# ==========================
# INIZIALIZZAZIONE TPM 
# ==========================
run '~/.tmux/plugins/tpm/tpm'
